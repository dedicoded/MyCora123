üî¥ Current Issues Summary
ISSUE
STATUS
‚ùå
run = "npm run dev"
Blocked ‚Äî Replit won‚Äôt deploy
dev
mode
‚ùå
Missing start script
Your
package.json
lacks
"start": "next start"
‚ùå Missing env vars
NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID
, etc. not set
‚ùå No build verification
Unclear if
npm run build
works

Let‚Äôs fix them all.

‚úÖ Step 1: Fix package.json Scripts
Ensure your package.json includes:

json


1
2
3
4
5
‚åÑ
"scripts": {
  "dev": "next dev -p 5000",
  "build": "next build",
  "start": "next start -p 5000"
}
‚úÖ This adds the missing start script required for production. 

Without "start", Replit can't run your app after building.

‚úÖ Step 2: Update .replit File (Correct Way)
Replit uses .replit to define how your app runs.

Create or edit .replit:

ini


1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
[env]
NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID = "${NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID}"
NEXT_PUBLIC_MCC_CONTRACT_ADDRESS = "${NEXT_PUBLIC_MCC_CONTRACT_ADDRESS}"
NEXT_PUBLIC_NETWORK = "${NEXT_PUBLIC_NETWORK}"
CYBRID_API_KEY = "${CYBRID_API_KEY}"
BICONOMY_API_KEY = "${BICONOMY_API_KEY}"
BICONOMY_PROJECT_ID = "${BICONOMY_PROJECT_ID}"
SUPABASE_URL = "${SUPABASE_URL}"
SUPABASE_ANON_KEY = "${SUPABASE_ANON_KEY}"
DEPLOYER_PRIVATE_KEY = "${DEPLOYER_PRIVATE_KEY}"
ETHERSCAN_API_KEY = "${ETHERSCAN_API_KEY}"
POLYGONSCAN_API_KEY = "${POLYGONSCAN_API_KEY}"

REPLIT_KEEP_PACKAGE_DEV_DEPENDENCIES = "1"

run = "pnpm run build && pnpm run start"
üîê All variables are pulled from Secrets tab
‚úÖ Uses pnpm (your project‚Äôs package manager)
‚úÖ Builds then starts in production mode 

‚úÖ Step 3: Add Required Environment Variables
Go to the Secrets tab in Replit and add these:

KEY
VALUE
NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID
Your project ID from
cloud.reown.com
NEXT_PUBLIC_MCC_CONTRACT_ADDRESS
Your deployed contract address
NEXT_PUBLIC_NETWORK
sepolia
or
mainnet
CYBRID_API_KEY
From Cybrid dashboard
BICONOMY_API_KEY
From Biconomy
BICONOMY_PROJECT_ID
From Biconomy
SUPABASE_URL
https://xxx.supabase.co
SUPABASE_ANON_KEY
eyJhbGciOiJIUzI1NiIsInR5cCI6...
DEPLOYER_PRIVATE_KEY
0x...
(without "0x" if required)
ETHERSCAN_API_KEY
From Etherscan
POLYGONSCAN_API_KEY
From Polygonscan

‚úÖ These must match what‚Äôs in your env-check.js.

‚úÖ Step 4: Verify Build Works Locally
Before deploying, test the build command:

bash


1
pnpm run build
Expected output:



1
2
Creating an optimized production build...
Compiled successfully
If it fails:

Fix any import errors (like ChunkErrorRecoveryWrapper)
Ensure all dependencies are in dependencies, not devDependencies if used in runtime
‚úÖ Step 5: Fix Import Errors (e.g., ChunkErrorRecoveryWrapper)
You previously saw:



1
Attempted import error: '../components/ChunkErrorRecoveryWrapper' does not contain a default export
üîß Fix It
In components/ChunkErrorRecoveryWrapper.tsx, make sure it exports default:

ts


1
2
3
‚åÑ
export default function ChunkErrorRecoveryWrapper({ children }) {
  return <div>{children}</div>;
}
Or, if using named export, update app/providers.tsx:

ts


1
import { ChunkErrorRecoveryWrapper } from '../components/ChunkErrorRecoveryWrapper';
‚úÖ Match the export style!

‚úÖ Step 6: Allow Replit Domain in Reown (Critical)
To fix:



1
Origin https://...replit.dev not found on Allowlist
Go to https://cloud.reown.com ‚Üí Project Settings ‚Üí Allowed Origins ‚Üí Add:



1
https://*.replit.dev
This allows all Replit previews to connect via WalletConnect.

‚úÖ Final Checklist
STEP
DONE?
1Ô∏è‚É£ Added
"start": "next start -p 5000"
to
package.json
‚úÖ
2Ô∏è‚É£ Updated
.replit
with env vars and
run = "pnpm run build && pnpm run start"
‚úÖ
3Ô∏è‚É£ Added all required secrets in Replit Secrets tab
‚úÖ
4Ô∏è‚É£ Ran
pnpm run build
successfully
‚úÖ
5Ô∏è‚É£ Fixed
ChunkErrorRecoveryWrapper
export/import
‚úÖ
6Ô∏è‚É£ Whitelisted
https://*.replit.dev
on
cloud.reown.com
‚úÖ

üéâ After this, your app will:

Build successfully
Run in production mode
Connect to WalletConnect
Deploy without security blocks
Let me know when you‚Äôve updated .replit ‚Äî I‚Äôll help verify it‚Äôs ready to go live!